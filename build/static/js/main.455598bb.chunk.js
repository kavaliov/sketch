(this.webpackJsonpsketch=this.webpackJsonpsketch||[]).push([[0],{18:function(e,r,t){e.exports={panel:"Drawing_panel__2YMND",brushSize:"Drawing_brushSize__KfiI2",brushes:"Drawing_brushes__3-VLc",brush:"Drawing_brush__3ydnR",active:"Drawing_active__2CsHw",leaves:"Drawing_leaves__2eNQa"}},208:function(e,r,t){"use strict";t.r(r);var c=t(0),n=t.n(c),a=t(79),i=t.n(a),s=t(12),o=t(8),u=t(15),l=t(16),p=t.n(l),d=t.p+"static/media/close.ae19aa75.svg",b=t(21),h=t.n(b),f=t(3),j=function(e){var r=e.opened,t=e.onClose,c=e.title,n=e.children;return Object(f.jsxs)("div",{className:p()(h.a.wrapper,Object(u.a)({},h.a.opened,r)),children:[Object(f.jsxs)("div",{className:h.a.header,children:[c,Object(f.jsx)(_,{onClick:t,className:h.a.close,children:Object(f.jsx)("img",{src:d,alt:""})})]}),n]})},O=t(80),v=t.n(O),_=function(e){var r=e.children,t=e.onClick,c=e.className;return Object(f.jsx)("button",{onClick:t,className:p()(v.a.wrapper,c),children:r})},g=t(87),m=c.createContext(null),x=t(17),w=Object(x.createAction)("SKETCH/SET_CURRENT_COLOR")(),C=Object(x.createAction)("SKETCH/SET_MODE")(),k=Object(x.createAction)("SKETCH/SET_BRUSH")(),y=6,S="circle",D="rgba(232, 248, 255, 0.1)",N="#cef0fe",E=1,A={height:518,width:970,backgroundColor:"#fff"},B=function(e){var r=e.getActiveObject();r&&"activeSelection"===r.type?r.forEachObject((function(r){e.remove(r)})):e.remove(r),e.discardActiveObject().requestRenderAll()},T=function(e,r){"path"===e.type&&e.set({stroke:r.hex}),"rect"!==e.type&&"circle"!==e.type||e.set({fill:r.hex})},R=t(53),P=t.n(R),z=function(){var e=n.a.useContext(m),r=e.canvas,t=e.dispatch,c=e.state.currentColor;return Object(f.jsx)("div",{className:P.a.pickerWrapper,children:Object(f.jsx)(g.a,{className:P.a.picker,color:c,onChange:function(e){t(w({currentColor:e.hex})),function(e,r){var t=e.getActiveObject();t&&("activeSelection"===t.type?t.forEachObject((function(e){T(e,r)})):T(t,r),e.renderAll())}(r,e)}})})},I=[{type:"eraser",icon:t.p+"static/media/brush1.4bb3634c.svg"},{type:"marker",icon:t.p+"static/media/brush2.bd74d5cf.svg"},{type:"magic",icon:t.p+"static/media/brush3.38a28f48.svg"},{type:"pencil",icon:t.p+"static/media/brush4.4c238ed7.svg"},{type:"pen",icon:t.p+"static/media/brush5.b0040eae.svg"}],H=t.p+"static/media/highlight.a5e0d7ce.svg",M=t(18),K=t.n(M),L=function(e,r,t,c){"marker"!==r&&"magic"!==r&&"pencil"!==r||(e.freeDrawingBrush=new o.fabric.PencilBrush(e)),e.freeDrawingBrush.color=c,e.freeDrawingBrush.width=t,"marker"===r&&(e.freeDrawingBrush.color=function(e,r){var t=e.replace("#",""),c=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return"rgba(".concat(c,",").concat(n,",").concat(a,",").concat(r/100,")")}(c,20)),"magic"===r&&(e.freeDrawingBrush.color="#fff",e.freeDrawingBrush.shadow=new o.fabric.Shadow({blur:30,affectStroke:!0,color:c}))},W=[10,20,30,40,50],q=function(){var e=n.a.useState(!1),r=Object(s.a)(e,2),t=r[0],c=r[1],a=n.a.useState(""),i=Object(s.a)(a,2),o=i[0],l=i[1],d=n.a.useState(10),b=Object(s.a)(d,2),h=b[0],O=b[1],v=n.a.useContext(m),g=v.state,x=v.canvas,w=v.dispatch,k=g.currentColor,y=g.mode;n.a.useEffect((function(){x.isDrawingMode="drawing"===y}),[y]),n.a.useEffect((function(){L(x,o,h,k)}),[o,x,h,k]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{onClick:function(){return c(!0)},children:Object(f.jsx)("img",{src:H,alt:""})}),Object(f.jsx)(j,{opened:t,onClose:function(){return c(!1)},children:Object(f.jsxs)("div",{className:K.a.panel,children:[Object(f.jsx)("div",{className:K.a.brushSize,children:W.map((function(e){return Object(f.jsx)(_,{onClick:function(){return function(e){O(e)}(e)},children:e},e)}))}),Object(f.jsx)("div",{className:K.a.brushes,children:I.map((function(e){return Object(f.jsx)("button",{onClick:function(){return r=e.type,w(C({mode:"drawing"})),l(r),void c(!1);var r},className:p()(K.a.brush,Object(u.a)({},K.a.active,o===e.type)),children:Object(f.jsx)("img",{src:e.icon,alt:""})},e.type)}))})]})})]})},U=t(85),F=t.n(U),J=function(){return Object(f.jsx)("div",{className:F.a.wrapper,children:Object(f.jsx)(q,{})})},V=t(13),Q={currentColor:"#ff0000",mode:"hand",brushType:"pencil"},Y=Object(x.createReducer)(Q).handleAction(w,(function(e,r){var t=r.payload.currentColor;return Object(V.a)(Object(V.a)({},e),{},{currentColor:t})})).handleAction(k,(function(e,r){var t=r.payload.brushType;return Object(V.a)(Object(V.a)({},e),{},{brushType:t})})).handleAction(C,(function(e,r){var t=r.payload.mode;return Object(V.a)(Object(V.a)({},e),{},{mode:t})})),G=t(86),X=t.n(G),Z=function(){var e=n.a.useReducer(Y,Q),r=Object(s.a)(e,2),t=r[0],c=r[1],a=n.a.useRef(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<e;c++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}()),i=n.a.useRef(null),u=n.a.useState(!1),l=Object(s.a)(u,2),p=l[0],d=l[1];return n.a.useEffect((function(){var e;a.current&&(i.current=new o.fabric.Canvas(a.current,A),(e=i.current)&&(o.fabric.Object.prototype.cornerStyle=S,o.fabric.Object.prototype.cornerSize=y,e.selectionColor=D,e.selectionBorderColor=N,e.selectionLineWidth=E,document.addEventListener("keydown",(function(r){"Backspace"===r.key&&B(e)}))),d(!0))}),[]),Object(f.jsxs)("div",{className:X.a.wrapper,children:[Object(f.jsx)("canvas",{id:a.current}),p&&Object(f.jsxs)(m.Provider,{value:{canvas:i.current,dispatch:c,state:t},children:[Object(f.jsx)(z,{}),Object(f.jsx)(J,{})]})]})};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root"))},21:function(e,r,t){e.exports={wrapper:"Panel_wrapper__o97Tj",header:"Panel_header__1ho3T",close:"Panel_close__3SCzl",opened:"Panel_opened__1xDq5"}},53:function(e,r,t){e.exports={pickerWrapper:"ColorPicker_pickerWrapper__FIb-p",picker:"ColorPicker_picker__-UzkV"}},80:function(e,r,t){e.exports={wrapper:"Button_wrapper__1oiSI"}},85:function(e,r,t){e.exports={wrapper:"RightControlPanel_wrapper__3bH1D"}},86:function(e,r,t){e.exports={wrapper:"Sketch_wrapper__2qscz"}},96:function(e,r){},97:function(e,r){},98:function(e,r){}},[[208,1,2]]]);
//# sourceMappingURL=main.455598bb.chunk.js.map