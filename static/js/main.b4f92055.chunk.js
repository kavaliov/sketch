(this.webpackJsonpsketch=this.webpackJsonpsketch||[]).push([[0],[,,,,,,function(e,t,a){e.exports={panel:"Drawing_panel__2o_TQ",brushSize:"Drawing_brushSize__aLRaj",exampleWrapper:"Drawing_exampleWrapper__3TzB5",example:"Drawing_example__2VsWC",exampleText:"Drawing_exampleText__ETlUH",brushes:"Drawing_brushes__2BT4B",brush:"Drawing_brush__2P9t4",active:"Drawing_active__2g9G-",leaves:"Drawing_leaves__hypIS",slider:"Drawing_slider__pHZbj",thumb:"Drawing_thumb__2xpH_",value:"Drawing_value__3uPDE"}},,function(e,t,a){e.exports={wrapper:"Panel_wrapper__o97Tj",header:"Panel_header__1ho3T",title:"Panel_title__gMfhr",close:"Panel_close__3SCzl",opened:"Panel_opened__1xDq5"}},function(e,t,a){e.exports={backgroundList:"Background_backgroundList__3Q63z",background:"Background_background__2waWn",backgroundColor:"Background_backgroundColor__11qqf"}},function(e,t,a){e.exports={wrapper:"Button_wrapper__1oiSI",active:"Button_active__1Qvou",disabled:"Button_disabled__nbT6h"}},function(e,t,a){e.exports={wrapper:"ColorHistory_wrapper__2Ecmf",color:"ColorHistory_color__mlCe6"}},function(e,t,a){e.exports={select:"Figures_select__1KLhn",shapeList:"Figures_shapeList__x2KT2",shape:"Figures_shape__ub_sG"}},function(e,t,a){e.exports={wrapper:"Fraction_wrapper__drGCQ",separator:"Fraction_separator__1j604",insertButton:"Fraction_insertButton__pLNCq"}},,function(e,t,a){e.exports={wrapper:"Eyedropper_wrapper__3_CV9",colorView:"Eyedropper_colorView__2Ppen"}},function(e,t,a){e.exports={wrapper:"ColorPicker_wrapper__1LHHr",pointer:"ColorPicker_pointer__1gLq0"}},function(e,t,a){e.exports={charList:"SpecialChars_charList__jsD3R",char:"SpecialChars_char__3qn65"}},function(e,t,a){e.exports={wrapper:"ObjectMenu_wrapper__pEbwy",img:"ObjectMenu_img__dPHYV"}},function(e,t,a){e.exports={wrapper:"Sketch_wrapper__2RmtI",fullscreen:"Sketch_fullscreen__3tgqX"}},,function(e,t,a){e.exports={wrapper:"Select_wrapper__1Vf5h"}},function(e,t,a){e.exports={pickerWrapper:"ColorPicker_pickerWrapper__1gQeM",picker:"ColorPicker_picker__NHuPG",pointer:"ColorPicker_pointer__2vrFs"}},,function(e,t,a){e.exports={wrapper:"RightControlPanel_wrapper__3PtuO"}},function(e,t,a){e.exports={wrapper:"LeftControlPanel_wrapper__2Xh4t"}},function(e,t,a){e.exports={wrapper:"FontText_wrapper__1LKYP"}},,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(20),i=a.n(r),s=a(4),o=a(2),l=a(5),u=a.n(l),d=(a(31),518),h=970,f="#fff",p=8,b="circle",j="rgba(232, 248, 255, 0.1)",g="#cef0fe",m=1,v="#ff0000",x={height:d,width:h,backgroundColor:f},O=function(e,t){var a=e.replace("#",""),n=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),r=parseInt(a.substring(4,6),16);return"rgba(".concat(n,",").concat(c,",").concat(r,",").concat(t/100,")")},_=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},w=function(){var e=h/2,t=d/2;return{top:_(t-180,t+70),left:_(e-350,e+50)}},C=function(e,t,a){return"#".concat(((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1))},y=n.createContext(null),k=a(3),S=a(7),A={currentColor:v,mode:"hand",brushType:"pencil",fullscreen:!1},E=Object(S.createAction)("SKETCH/SET_CURRENT_COLOR")(),T=Object(S.createAction)("SKETCH/SET_MODE")(),N=Object(S.createAction)("SKETCH/SET_BRUSH")(),B=Object(S.createAction)("SKETCH/SET_FULLSCREEN")(),D=Object(S.createReducer)(A).handleAction(E,(function(e,t){var a=t.payload.currentColor;return Object(k.a)(Object(k.a)({},e),{},{currentColor:a})})).handleAction(N,(function(e,t){var a=t.payload.brushType;return Object(k.a)(Object(k.a)({},e),{},{brushType:a})})).handleAction(T,(function(e,t){var a=t.payload.mode;return Object(k.a)(Object(k.a)({},e),{},{mode:a})})).handleAction(B,(function(e,t){var a=t.payload.fullscreen;return Object(k.a)(Object(k.a)({},e),{},{fullscreen:a})})),R=window.fabric,F=function(e){var t;e&&(R.Object.prototype.cornerStyle=b,R.Object.prototype.cornerSize=p,e.selectionColor=j,e.selectionBorderColor=g,e.selectionLineWidth=m,e.setBackgroundColor("white",e.renderAll.bind(e),{erasable:!1}),(t=R).util.trimCanvas=function(e){for(var t=e.getContext("2d"),a=e.width,n=e.height,c=[],r=[],i=t.getImageData(0,0,a,n),s=function(e,t){return e-t},o=0;o<n;o++)for(var l=0;l<a;l++)0<i.data[4*(o*a+l)+3]&&(c.push(l),r.push(o));return c.sort(s),r.sort(s),a=c[n=c.length-1]-c[0],n=r[n]-r[0],i=t.getImageData(c[0],r[0],a,n),e.width=a,e.height=n,t.putImageData(i,0,0),{x:c[0],y:r[0]}},t.Point.prototype.normalize=function(e){null!==e&&void 0!==e||(e=1);var t=this.distanceFrom({x:0,y:0});return 0<t&&(this.x=this.x/t*e,this.y=this.y/t*e),this},t.BaseBrush.prototype.convertToImg=function(){var e=this.canvas.getZoom(),a=this.canvas.getRetinaScaling(),n=t.util.copyCanvasElement(this.canvas.upperCanvasEl),c=t.util.trimCanvas(n);(n=new t.Image(n)).crossOrigin="Anonymous",this.canvas.add(n),n.set({left:c.x/a/e,top:c.y/a/e,scaleX:1/a/e,scaleY:1/a/e}).setCoords(),this.canvas.clearContext(this.canvas.contextTop)},t.util.getRandom=function(e,t){return t=t||0,Math.random()*((e||1)-t)+t},t.util.clamp=function(e,t,a){return"number"!==typeof a&&(a=0),e>t?t:e<a?a:e},t.CrayonBrush=t.util.createClass(t.BaseBrush,{color:"#000",opacity:.6,width:1,_baseWidth:1,_inkAmount:10,_latestStrokeLength:0,_point:null,_sep:5,_size:0,_latest:null,_drawn:!1,initialize:function(e,a){a=a||{},this.canvas=e,this.width=a.width||e.freeDrawingBrush.width,this.color=a.color||e.freeDrawingBrush.color,this.opacity=a.opacity||e.contextTop.globalAlpha,this._point=new t.Point(0,0)},onMouseDown:function(e){this.canvas.contextTop.globalAlpha=this.opacity,this._size=this.width/2+this._baseWidth,this._drawn=!1,this.set(e)},onMouseMove:function(e){this.update(e),this.draw(this.canvas.contextTop)},onMouseUp:function(){this._drawn&&this.convertToImg(),this._latest=null,this._latestStrokeLength=0,this.canvas.contextTop.globalAlpha=1},set:function(e){this._latest?this._latest.setFromPoint(this._point):this._latest=new t.Point(e.x,e.y),t.Point.prototype.setFromPoint.call(this._point,e)},update:function(e){this.set(e),this._latestStrokeLength=this._point.subtract(this._latest).distanceFrom({x:0,y:0})},draw:function(e){var a,n=this.canvas.getZoom(),c=this._point.subtract(this._latest),r=Math.ceil(this._size/2),i=Math.floor(c.distanceFrom({x:0,y:0})/r)+1;c.normalize(r);var s=this._sep*t.util.clamp(this._inkAmount/this._latestStrokeLength*3,1,.5),o=Math.ceil(this._size*this._sep),l=this._size/2;for(e.save(),e.fillStyle=this.color,e.beginPath(),r=0;r<o;r++)for(a=0;a<i;a++){var u=this._latest.add(c.multiply(a)),d=t.util.getRandom(l),h=t.util.getRandom(2*Math.PI),f=t.util.getRandom(s,s/2),p=t.util.getRandom(s,s/2),b=u.x+d*Math.sin(h)-f/2;u=u.y+d*Math.cos(h)-p/2,e.rect(b*n,u*n,f,p)}e.fill(),e.restore(),this._drawn=!0},_render:function(){}}),document.addEventListener("keydown",(function(t){if("Backspace"===t.key){var a=e.getActiveObject();a&&!a.isEditing&&P(e,a)}})))},P=function(e,t){t&&"activeSelection"===t.type?t.forEachObject((function(t){e.remove(t)})):e.remove(t),e.discardActiveObject().requestRenderAll()},I=function(e,t){var a=e.getActiveObject();a&&("activeSelection"===a.type||"group"===a.type?a.forEachObject((function(e){L(e,t)})):L(a,t),e.renderAll())},L=function(e,t){"path"!==e.type&&"line"!==e.type||e.shadow||"marker"===e.brushType||e.set({stroke:t}),"path"===e.type&&"marker"===e.brushType&&e.set({stroke:O(t,20)}),("rect"===e.type||"circle"===e.type||"text"===e.type||"i-text"===e.type||e.fromSVG)&&e.set({fill:t}),"path"===e.type&&e.shadow&&e.set({shadow:Object(k.a)(Object(k.a)({},e.shadow),{},{color:t})}),"image"===e.type&&(e.filters[0]=new R.Image.filters.BlendColor({color:t,mode:"tint"}),e.applyFilters())},M=a.p+"static/media/close.ae19aa75.svg",z=a(8),H=a.n(z),V=a(0),W=function(e){var t=e.opened,a=e.onClose,n=e.title,c=e.children,r=e.onTransitionEnd;return Object(V.jsxs)("div",{onTransitionEnd:r,className:u()(H.a.wrapper,Object(s.a)({},H.a.opened,t)),children:[Object(V.jsxs)("div",{className:H.a.header,children:[Object(V.jsx)("div",{className:H.a.title,children:n}),Object(V.jsx)(q,{onClick:a,className:H.a.close,children:Object(V.jsx)("img",{src:M,alt:""})})]}),c]})},G=a(10),U=a.n(G),q=function(e){var t,a=e.children,n=e.onClick,c=e.className,r=e.style,i=e.active,o=void 0!==i&&i,l=e.disabled,d=void 0!==l&&l;return Object(V.jsx)("button",{disabled:d,onClick:n,className:u()(U.a.wrapper,c,(t={},Object(s.a)(t,U.a.active,o),Object(s.a)(t,U.a.disabled,d),t)),style:r,children:a})},K=a(21),Z=a.n(K),X=function(e){var t=e.children,a=e.onChange,n=e.value,c=e.className,r=e.style;return Object(V.jsx)("select",{value:n,onChange:a,className:u()(Z.a.wrapper,c),style:r,children:t})},Y=window.fabric,Q=function(e,t,a){var n=e.getContext().getImageData(Math.round((t+e.viewportTransform[4])*Y.devicePixelRatio*e.getZoom()),Math.round((a+e.viewportTransform[5])*Y.devicePixelRatio*e.getZoom()),1,1).data;return C(n[0],n[1],n[2])},J=a.p+"static/media/dropper.69cb0ffd.svg",$=a(15),ee=a.n($),te=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(""),i=Object(o.a)(r,2),s=i[0],l=i[1],u=c.a.useState({top:460,left:260}),d=Object(o.a)(u,2),h=d[0],f=d[1],p=c.a.useContext(y),b=p.canvas,j=p.dispatch,g=function(e){var t=Q(b,e.pointer.x,e.pointer.y);f({top:e.pointer.y-10,left:e.pointer.x+20}),l(t)},m=function(){n(!1),b.off("mouse:down",v),b.off("mouse:move",g),function(e){e.selection=!0,e.getObjects().forEach((function(e){e.set("selectable",!0),e.hoverCursor="move"}))}(b)},v=function(e){m();var t=Q(b,e.pointer.x,e.pointer.y);j(E({currentColor:t}))};return Object(V.jsxs)(V.Fragment,{children:[a&&Object(V.jsx)("div",{className:ee.a.colorView,style:Object(k.a)({backgroundColor:s},h)}),Object(V.jsx)(q,{active:a,onClick:function(){a?m():(n(!0),function(e){e.selection=!1,e.getObjects().forEach((function(e){e.set("selectable",!1),e.hoverCursor="default"}))}(b),j(T({mode:"hand"})),b.on("mouse:down",v),b.on("mouse:move",g))},className:ee.a.wrapper,children:Object(V.jsx)("img",{src:J,alt:""})})]})},ae=a(11),ne=a.n(ae),ce=function(){var e=c.a.useState(["",""]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y),i=r.state,s=r.dispatch,l=i.currentColor;c.a.useEffect((function(){n((function(e){return[l,e[0]]}))}),[l]);var u=function(e){s(E({currentColor:e}))};return Object(V.jsxs)("div",{className:ne.a.wrapper,children:[Object(V.jsx)("button",{className:ne.a.color,style:{backgroundColor:a[0]},onClick:function(){return u(a[0])}}),Object(V.jsx)("button",{className:ne.a.color,style:{backgroundColor:a[1]||"white"},onClick:function(){return u(a[1]||"white")}})]})},re=["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#fff","#000"],ie=function(e,t){if(e){var a=e.getContext("2d");if(a){var n=a.getImageData(t,10,1,1).data;return C(n[0],n[1],n[2])}}return"#000"},se=function(e,t,a){var n=t-e.getBoundingClientRect().left;return n<0?0:n>a?a:n},oe=a(16),le=a.n(oe),ue=function(e){var t=e.width,a=e.height,n=e.onChange,r=c.a.useState(v),i=Object(o.a)(r,2),s=i[0],l=i[1],u=c.a.useState(!1),d=Object(o.a)(u,2),h=d[0],f=d[1],p=c.a.useState(0),b=Object(o.a)(p,2),j=b[0],g=b[1],m=c.a.useRef(null),x=c.a.useRef(null);c.a.useEffect((function(){!function(e,t,a){if(e){var n=e.getContext("2d");if(n){var c=n.createLinearGradient(0,0,t,0);re.forEach((function(e,t){t<re.length-1?c.addColorStop(t/(re.length-1),e):c.addColorStop(1,e)})),n.fillStyle=c,n.fillRect(0,0,t,a)}}}(m.current,t,a),l(ie(m.current,j))}),[a,j,t]),c.a.useEffect((function(){l(ie(m.current,j))}),[j]);return Object(V.jsxs)("div",{ref:x,onMouseMove:function(e){h&&x.current&&g(se(x.current,e.clientX,t))},className:le.a.wrapper,style:{width:t,height:a},children:[Object(V.jsx)("canvas",{ref:m,onMouseDown:function(e){f(!0),x.current&&g(se(x.current,e.clientX,t))},width:t,height:a}),Object(V.jsx)("button",{onMouseDown:function(){return f(!0)},onMouseUp:function(){f(!1),"function"===typeof n&&n(s)},className:le.a.pointer,style:{left:j,backgroundColor:s}})]})},de=a(22),he=a.n(de),fe=function(){var e=c.a.useContext(y),t=e.canvas,a=e.dispatch,n=e.state.currentColor;c.a.useEffect((function(){I(t,n)}),[n,t]);return Object(V.jsxs)("div",{className:he.a.pickerWrapper,children:[Object(V.jsx)(te,{}),Object(V.jsx)(ue,{width:430,height:24,onChange:function(e){a(E({currentColor:e}))}}),Object(V.jsx)(ce,{})]})},pe=a(23),be=[{type:"eraser",icon:a.p+"static/media/brush1.4bb3634c.svg"},{type:"marker",icon:a.p+"static/media/brush2.bd74d5cf.svg"},{type:"magic",icon:a.p+"static/media/brush3.38a28f48.svg"},{type:"pencil",icon:a.p+"static/media/brush4.4c238ed7.svg"},{type:"pen",icon:a.p+"static/media/brush5.b0040eae.svg"}],je={eraser:{min:1,max:90},marker:{min:20,max:90},magic:{min:10,max:60},pencil:{min:1,max:60},pen:{min:5,max:20}},ge=a.p+"static/media/highlight.a5e0d7ce.svg",me=window.fabric,ve=a(6),xe=a.n(ve),Oe=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(""),i=Object(o.a)(r,2),l=i[0],d=i[1],h=c.a.useState(10),f=Object(o.a)(h,2),p=f[0],b=f[1],j=c.a.useContext(y),g=j.state,m=j.canvas,v=j.dispatch,x=g.currentColor,_=g.mode;c.a.useEffect((function(){var e=function(e){e.path.brushType=l};return m.on("path:created",e),m.isDrawingMode="drawing"===_,"drawing"!==_&&d(""),function(){m.off("path:created",e)}}),[_,m,l]),c.a.useEffect((function(){!function(e,t,a,n){"marker"!==t&&"magic"!==t&&"pencil"!==t||(e.freeDrawingBrush=new me.PencilBrush(e)),"eraser"===t?e.freeDrawingBrush=new me.EraserBrush(e):e.freeDrawingBrush.color=n,"pen"===t&&(e.freeDrawingBrush=new me.CrayonBrush(e)),"marker"===t&&(e.freeDrawingBrush.color=O(n,20)),"magic"===t&&(e.freeDrawingBrush.color="#fff",e.freeDrawingBrush.shadow=new me.Shadow({blur:30,affectStroke:!0,color:n})),e.freeDrawingBrush.width=a}(m,l,p,x),l&&p<je[l].min&&b(je[l].min),l&&p>je[l].max&&b(je[l].max)}),[l,m,p,x]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{active:"drawing"===_,onClick:function(){return n(!0)},children:Object(V.jsx)("img",{src:ge,alt:""})}),Object(V.jsx)(W,{title:"Brushes",opened:a,onClose:function(){return n(!1)},children:Object(V.jsxs)("div",{className:xe.a.panel,children:[Object(V.jsxs)("div",{className:xe.a.brushSize,children:[Object(V.jsxs)("div",{className:xe.a.exampleWrapper,children:["marker"===l&&Object(V.jsx)("span",{className:xe.a.exampleText,children:"text"}),Object(V.jsx)("div",{className:xe.a.example,style:{width:p,height:p,border:"eraser"===l?"1px solid #c3d0e4":"none",backgroundColor:"magic"!==l&&"eraser"!==l?x:"white",opacity:"marker"===l?.2:1,boxShadow:"magic"===l?"0 0 30px ".concat(x):"none"}})]}),Object(V.jsx)(pe.a,{className:xe.a.slider,orientation:"vertical",value:p,renderThumb:function(e,t){return Object(V.jsx)("div",Object(k.a)(Object(k.a)({},e),{},{className:xe.a.thumb,children:Object(V.jsx)("div",{className:xe.a.value,children:t.valueNow})}))},invert:!0,min:l?je[l].min:1,max:l?je[l].max:60,onChange:function(e){b(e)}})]}),Object(V.jsx)("div",{className:xe.a.brushes,children:be.map((function(e){return Object(V.jsx)("button",{onClick:function(){return t=e.type,v(T({mode:"drawing"})),void d(t);var t},className:u()(xe.a.brush,Object(s.a)({},xe.a.active,l===e.type)),children:Object(V.jsx)("img",{src:e.icon,alt:""})},e.type)}))})]})})]})},_e=a.p+"static/media/hand.cf210679.svg",we=function(){var e=c.a.useContext(y),t=e.state,a=e.dispatch;return Object(V.jsx)(q,{onClick:function(){a(T({mode:"hand"}))},active:"hand"===t.mode,children:Object(V.jsx)("img",{src:_e,alt:""})})},Ce=a.p+"static/media/star.10d3d0dd.svg",ye=a.p+"static/media/circle.1be35666.svg",ke=a.p+"static/media/circle-outlined.55858944.svg",Se=a.p+"static/media/rectangle.06a5077b.svg",Ae=a.p+"static/media/rectangle-outlined.f492c7dd.svg",Ee=a.p+"static/media/star.9acb5ada.svg",Te=a.p+"static/media/star-outlined.0daaff4a.svg",Ne=a.p+"static/media/triangle.fbe306e2.svg",Be=a.p+"static/media/triangle-outlined.a25dd2aa.svg",De=a.p+"static/media/arrow-down.66902268.svg",Re=a.p+"static/media/arrow-up.c13fee86.svg",Fe=a.p+"static/media/arrow-left.6c52d128.svg",Pe=[{title:"circle",src:ye},{title:"circleOutlined",src:ke},{title:"rectangle",src:Se},{title:"rectangleOutlined",src:Ae},{title:"star",src:Ee},{title:"starOutlined",src:Te},{title:"triangle",src:Ne},{title:"triangleOutlined",src:Be},{title:"arrowDown",src:De},{title:"arrowRight",src:a.p+"static/media/arrow-right.545fd979.svg"},{title:"arrowLeft",src:Fe},{title:"arrowUp",src:Re},{title:"thunderOutlined",src:a.p+"static/media/thunder-outlined.96c0359a.svg"},{title:"thunder",src:a.p+"static/media/thunder.ddcd8d6d.svg"},{title:"cloudOutlined",src:a.p+"static/media/cloud-outlined.c144d388.svg"},{title:"cloud",src:a.p+"static/media/cloud.eda4a7bc.svg"}],Ie=a.p+"static/media/apple.e096d285.svg",Le=a.p+"static/media/grape.603d86e2.svg",Me=a.p+"static/media/lemon.e505d6e4.svg",ze=a.p+"static/media/peach.5acec3d9.svg",He=[{title:"lemon",src:Me},{title:"apple",src:Ie},{title:"grape",src:Le},{title:"strawberry",src:a.p+"static/media/strawberry.8825d787.svg"},{title:"peach",src:ze},{title:"watermelon",src:a.p+"static/media/watermelon.339708ac.svg"}],Ve=window.fabric,We=a(12),Ge=a.n(We),Ue={shapes:Pe,fruits:He},qe=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState("shapes"),i=Object(o.a)(r,2),s=i[0],l=i[1],u=c.a.useContext(y),d=u.canvas,h=u.dispatch,f=function(e){h(T({mode:"hand"})),function(e,t,a){var n=w();Ve.loadSVGFromURL(t,(function(t,c){var r=Ve.util.groupSVGElements(t,c);r.set(Object(k.a)(Object(k.a)({},n),"shapes"!==a?{fromImgShape:!0}:{})),r.scaleToWidth(90),e.add(r),e.setActiveObject(r),e.renderAll()}))}(d,e,s)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{onClick:function(){return n(!0)},children:Object(V.jsx)("img",{src:Ce,alt:""})}),Object(V.jsxs)(W,{title:"Image Library",opened:a,onClose:function(){return n(!1)},children:[Object(V.jsxs)(X,{className:Ge.a.select,onChange:function(e){return l(e.target.value)},children:[Object(V.jsx)("option",{value:"shapes",children:"Shapes"}),Object(V.jsx)("option",{value:"fruits",children:"Fruits"})]}),Object(V.jsx)("div",{className:Ge.a.shapeList,children:Ue[s].map((function(e){return Object(V.jsx)("button",{onClick:function(){return f(e.src)},className:Ge.a.shape,children:Object(V.jsx)("img",{src:e.src,alt:""})},e.title)}))})]})]})},Ke=a.p+"static/media/text.fc450231.svg",Ze=window.fabric,Xe=function(){var e=c.a.useContext(y),t=e.state,a=e.canvas,n=e.dispatch,r=t.currentColor;return Object(V.jsx)(q,{onClick:function(){!function(e,t){var a=w(),n=new Ze.IText("",Object(k.a)(Object(k.a)({},a),{},{fontSize:28,lineHeight:.95,fill:t,fontFamily:"Tahoma",cursorColor:"black",textAlign:"center"}));e.add(n),e.setActiveObject(n),n.enterEditing(),e.renderAll()}(a,r),n(T({mode:"hand"}))},children:Object(V.jsx)("img",{src:Ke,alt:""})})},Ye=[a.p+"static/media/bg1.981d1d53.svg",a.p+"static/media/bg2.402b432f.svg",a.p+"static/media/bg3.782e88f7.svg"],Qe=["white","black","#3cb5ff","#bce8f1","#f4e796","#c1beec"],Je=a.p+"static/media/picture.b59a650c.svg",$e=a(9),et=a.n($e),tt=window.fabric,at=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{onClick:function(){return n(!0)},children:Object(V.jsx)("img",{src:Je,alt:""})}),Object(V.jsxs)(W,{title:"Background",opened:a,onClose:function(){return n(!1)},children:[Object(V.jsx)("div",{className:et.a.backgroundList,children:Ye.map((function(e){return Object(V.jsx)("button",{onClick:function(){return t=e,void tt.Image.fromURL(t,(function(e){r.setBackgroundImage(e,r.renderAll.bind(r),{scaleX:x.width/e.width,scaleY:x.height/e.height,erasable:!1})}));var t},className:et.a.background,children:Object(V.jsx)("img",{src:e,alt:""})},e)}))}),Object(V.jsx)("div",{className:et.a.backgroundList,children:Qe.map((function(e){return Object(V.jsx)("button",{onClick:function(){return function(e){r.setBackgroundImage(new tt.Image(""),r.renderAll.bind(r)),r.setBackgroundColor(e,r.renderAll.bind(r),{erasable:!1})}(e)},className:et.a.backgroundColor,style:{backgroundColor:e}},e)}))})]})]})},nt=a.p+"static/media/char.7bb36b6f.svg",ct=["\u2264","\u2265","\xd7","\xf7","\xb0","\u2192"],rt=a(17),it=a.n(rt),st=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;return Object(V.jsxs)(V.Fragment,{children:[a&&Object(V.jsx)("div",{className:it.a.charList,children:ct.map((function(e){return Object(V.jsx)(q,{onClick:function(){return function(e,t){var a=e.getActiveObject();if(a&&"i-text"===a.type&&a.isEditing){var n=a.selectionStart,c=a.selectionEnd;a.insertChars(t,null,n,c),a.selectionStart=n+1,a.selectionEnd=n+1,e.renderAll()}}(r,e)},className:it.a.char,children:e},e)}))}),Object(V.jsx)(q,{active:a,onClick:function(){n(!a)},children:Object(V.jsx)("img",{src:nt,alt:""})})]})},ot=window.fabric,lt=a.p+"static/media/fraction.f6677d83.svg",ut=a(13),dt=a.n(ut),ht=function(){var e=c.a.useState({numerator:"",denominator:""}),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],u=c.a.useContext(y),d=u.canvas,h=u.state,f=c.a.useRef(null),p=h.currentColor;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{children:Object(V.jsx)("img",{src:lt,alt:"",onClick:function(){l(!0)}})}),Object(V.jsx)(W,{title:"Insert Fraction",opened:s,onClose:function(){l(!1),n({numerator:"",denominator:""})},onTransitionEnd:function(){var e;s&&(null===(e=f.current)||void 0===e||e.focus())},children:Object(V.jsxs)("div",{className:dt.a.wrapper,children:[Object(V.jsx)("input",{ref:f,value:a.numerator,style:{color:p},onChange:function(e){return n(Object(k.a)(Object(k.a)({},a),{},{numerator:e.target.value}))}}),Object(V.jsx)("div",{className:dt.a.separator,style:{backgroundColor:p}}),Object(V.jsx)("input",{value:a.denominator,style:{color:p},onChange:function(e){return n(Object(k.a)(Object(k.a)({},a),{},{denominator:e.target.value}))}}),Object(V.jsx)(q,{onClick:function(){!function(e,t,a,n){if(a&&n){var c=12*(a.length>n.length?a.length:n.length),r=w(),i='<svg viewBox="0 0 '.concat(c,' 85">\n            <line x1="0" y1="45" x2="').concat(c,'" y2="45" stroke="').concat(t,'" stroke-width="2" />\n            <text text-anchor="middle" x="').concat(c/2,'" y="38" font-size="24px" fill="').concat(t,'">').concat(a,'</text>\n            <text text-anchor="middle" x="').concat(c/2,'" y="70" font-size="24px" fill="').concat(t,'">').concat(n,"</text>\n        </svg>");ot.loadSVGFromString(i,(function(t,a){var n=ot.util.groupSVGElements(t,a);n.set(Object(k.a)({},r)),e.add(n),e.setActiveObject(n),e.renderAll()}))}}(d,p,a.numerator,a.denominator)},className:dt.a.insertButton,children:"Insert"})]})})]})},ft=a(24),pt=a.n(ft),bt=function(){return Object(V.jsxs)("div",{className:pt.a.wrapper,children:[Object(V.jsx)(we,{}),Object(V.jsx)(Oe,{}),Object(V.jsx)(Xe,{}),Object(V.jsx)(st,{}),Object(V.jsx)(ht,{}),Object(V.jsx)(at,{}),Object(V.jsx)(qe,{})]})},jt=a.p+"static/media/undo.c0720610.svg",gt=a.p+"static/media/redo.cfafd4e4.svg",mt=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],u=c.a.useContext(y).canvas,d=c.a.useCallback((function(){l(!!u.historyUndo.length),n(!!u.historyRedo.length)}),[u]);c.a.useEffect((function(){u.on("history:append",d)}),[u,d]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{disabled:!s,onClick:function(){u.discardActiveObject(),u.undo(),d()},children:Object(V.jsx)("img",{src:jt,alt:""})}),Object(V.jsx)(q,{disabled:!a,onClick:function(){u.discardActiveObject(),u.redo(),d()},children:Object(V.jsx)("img",{src:gt,alt:""})})]})},vt=a.p+"static/media/fullscreen.24771eb9.svg",xt=a.p+"static/media/minimize.43572175.svg",Ot=function(){var e=c.a.useContext(y),t=e.canvas,a=e.state,n=e.dispatch,r=a.fullscreen;return Object(V.jsx)(q,{active:r,onClick:function(){t.setDimensions(Object(k.a)({},r?{width:x.width,height:x.height}:{width:window.innerWidth,height:window.innerHeight}));var e=window.innerWidth/x.width;t.setZoom(r?1:e),n(B({fullscreen:!r}))},children:Object(V.jsx)("img",{src:r?xt:vt,alt:""})})},_t=a(25),wt=a.n(_t),Ct=function(){return Object(V.jsxs)("div",{className:wt.a.wrapper,children:[Object(V.jsx)(Ot,{}),Object(V.jsx)(mt,{})]})},yt=function(e,t){var a=e.getCenterPoint(),n=t.getZoom(),c=t.getHeight(),r=(15+a.y+e.height*e.scaleY/2)*n;return r+30>c&&(r=(a.y-95-e.height*e.scaleY/2)*n),{top:r,left:a.x*n}},kt=function(){var e=c.a.useContext(y),t=e.canvas,a=e.state.currentColor;return Object(V.jsx)(q,{onClick:function(){I(t,a)},style:{backgroundColor:a}})},St=a.p+"static/media/delete.c022e131.svg",At=function(){var e=c.a.useContext(y).canvas;return Object(V.jsx)(q,{onClick:function(){var t=e.getActiveObject();P(e,t)},children:Object(V.jsx)("img",{src:St,alt:""})})},Et=a.p+"static/media/copy.15beb7fb.svg",Tt=function(){var e=c.a.useContext(y).canvas;return Object(V.jsx)(q,{onClick:function(){var t=e.getActiveObject();t.clone((function(a){e.discardActiveObject(),a.set(Object(k.a)(Object(k.a)(Object(k.a)({top:a.top+8,left:a.left+8},t.fromSVG?{fromSVG:!0}:{}),t.fromImgShape?{fromImgShape:!0}:{}),t.brushType?{brushType:t.brushType}:{})),"activeSelection"===a.type?(a.canvas=e,a.forEachObject((function(a,n){var c=t.getObjects()[n];c.fromSVG&&a.set({fromSVG:!0}),c.brushType&&a.set({brushType:c.brushType}),c.fromImgShape&&a.set({fromImgShape:!0}),e.add(a)}))):e.add(a),e.setActiveObject(a),e.requestRenderAll()}))},children:Object(V.jsx)("img",{src:Et,alt:""})})},Nt=a.p+"static/media/bold.a0908168.svg",Bt=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;c.a.useEffect((function(){"bold"===r.getActiveObject().fontWeight&&n(!0)}),[r]);return Object(V.jsx)(q,{active:a,onClick:function(){var e=r.getActiveObject();a?(e.set({fontWeight:"normal"}),n(!1)):(e.set({fontWeight:"bold"}),n(!0)),r.renderAll()},children:Object(V.jsx)("img",{src:Nt,alt:""})})},Dt=a.p+"static/media/italic.cf5cd34d.svg",Rt=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;c.a.useEffect((function(){"italic"===r.getActiveObject().fontStyle&&n(!0)}),[r]);return Object(V.jsx)(q,{active:a,onClick:function(){var e=r.getActiveObject();a?(e.set({fontStyle:"normal"}),n(!1)):(e.set({fontStyle:"italic"}),n(!0)),r.renderAll()},children:Object(V.jsx)("img",{src:Dt,alt:""})})},Ft=a.p+"static/media/underline.c56bb0d2.svg",Pt=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;c.a.useEffect((function(){r.getActiveObject().underline&&n(!0)}),[r]);return Object(V.jsx)(q,{active:a,onClick:function(){var e=r.getActiveObject();a?(e.set({underline:!1}),n(!1)):(e.set({underline:!0}),n(!0)),r.renderAll()},children:Object(V.jsx)("img",{src:Ft,alt:""})})},It=a.p+"static/media/align-left.277ba860.svg",Lt=a.p+"static/media/align-center.32449acd.svg",Mt=a.p+"static/media/align-right.f9735e6a.svg",zt=function(){var e=c.a.useState("center"),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;c.a.useEffect((function(){n(r.getActiveObject().textAlign)}),[r]);var i=function(e){n(e),r.getActiveObject().set({textAlign:e}),r.renderAll()};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(q,{active:"left"===a,onClick:function(){return i("left")},children:Object(V.jsx)("img",{src:It,alt:""})}),Object(V.jsx)(q,{active:"center"===a,onClick:function(){return i("center")},children:Object(V.jsx)("img",{src:Lt,alt:""})}),Object(V.jsx)(q,{active:"right"===a,onClick:function(){return i("right")},children:Object(V.jsx)("img",{src:Mt,alt:""})})]})},Ht=["Arial","Comic Sans MS","Courier New","Georgia","Tahoma","Times New Roman","Verdana"],Vt=a(26),Wt=a.n(Vt),Gt=function(){var e=c.a.useState(""),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(y).canvas;c.a.useEffect((function(){n(r.getActiveObject().fontFamily)}),[r]);return Object(V.jsx)(X,{onChange:function(e){n(e.target.value),r.getActiveObject().set({fontFamily:e.target.value}),r.renderAll()},value:a,className:Wt.a.wrapper,children:Ht.map((function(e){return Object(V.jsx)("option",{value:e,children:e},e)}))})},Ut=a(18),qt=a.n(Ut),Kt=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),i=Object(o.a)(r,2),l=i[0],d=i[1],h=c.a.useState(""),f=Object(o.a)(h,2),p=f[0],b=f[1],j=c.a.useState({top:0,left:0}),g=Object(o.a)(j,2),m=g[0],v=g[1],x=c.a.useContext(y),O=x.canvas,_=x.state.fullscreen;return c.a.useEffect((function(){O.getActiveObject()&&v(yt(O.getActiveObject(),O))}),[_,O]),c.a.useEffect((function(){var e=function(e){v(yt(e.transform.target,O))},t=function(t){var a=t.target;a&&(b(a.type),n(!0),v(yt(a,O)),a.on("moving",e),a.on("scaling",e),a.fromImgShape&&d(!0),"i-text"===a.type&&a.on("changed",(function(){v(yt(a,O))})))};O.on("selection:created",t),O.on("selection:updated",t),O.on("selection:cleared",(function(t){n(!1),d(!1),t.deselected&&(t.deselected[0].off("moving",e),t.deselected[0].off("scaling",e),"i-text"===t.deselected[0].type&&(O.defaultCursor="default",t.deselected[0].off("changed"),function(e,t){""===t.text&&(e.remove(t),e.renderAll())}(O,t.deselected[0])))}))}),[O]),Object(V.jsx)(V.Fragment,{children:a&&Object(V.jsxs)("div",{style:Object(k.a)({},m),className:u()(qt.a.wrapper,Object(s.a)({},qt.a.img,l)),children:[!l&&Object(V.jsx)(kt,{}),Object(V.jsx)(At,{}),Object(V.jsx)(Tt,{}),"i-text"===p&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Bt,{}),Object(V.jsx)(Rt,{}),Object(V.jsx)(Pt,{}),Object(V.jsx)(zt,{}),Object(V.jsx)(Gt,{})]})]})})},Zt=a(19),Xt=a.n(Zt),Yt=window.fabric,Qt=function(){var e=c.a.useReducer(D,A),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useRef(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}()),i=c.a.useRef(null),l=c.a.useState(!1),d=Object(o.a)(l,2),h=d[0],f=d[1],p=a.fullscreen;return c.a.useEffect((function(){r.current&&(i.current=new Yt.Canvas(r.current,x),F(i.current),f(!0))}),[]),Object(V.jsxs)("div",{className:u()(Xt.a.wrapper,Object(s.a)({},Xt.a.fullscreen,p)),children:[Object(V.jsx)("canvas",{id:r.current}),h&&Object(V.jsxs)(y.Provider,{value:{canvas:i.current,dispatch:n,state:a},children:[Object(V.jsx)(Ct,{}),Object(V.jsx)(fe,{}),Object(V.jsx)(bt,{}),Object(V.jsx)(Kt,{})]})]})};i.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(Qt,{})}),document.getElementById("root"))}],[[36,1,2]]]);
//# sourceMappingURL=main.b4f92055.chunk.js.map