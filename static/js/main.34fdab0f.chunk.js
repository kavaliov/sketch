(this.webpackJsonpsketch=this.webpackJsonpsketch||[]).push([[0],{20:function(e,t,a){e.exports={wrapper:"Panel_wrapper__o97Tj",header:"Panel_header__1ho3T",close:"Panel_close__3SCzl",opened:"Panel_opened__1xDq5"}},204:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(83),i=a.n(c),s=a(5),o=a(11),l=a(16),u=a.n(l),d=a.p+"static/media/close.ae19aa75.svg",h=a(20),p=a.n(h),f=a(3),b=function(e){var t=e.opened,a=e.onClose,r=e.title,n=e.children;return Object(f.jsxs)("div",{className:u()(p.a.wrapper,Object(o.a)({},p.a.opened,t)),children:[Object(f.jsxs)("div",{className:p.a.header,children:[r,Object(f.jsx)(j,{onClick:a,className:p.a.close,children:Object(f.jsx)("img",{src:d,alt:""})})]}),n]})},v=a(53),m=a.n(v),j=function(e){var t=e.children,a=e.onClick,r=e.className,n=e.active,c=void 0!==n&&n;return Object(f.jsx)("button",{onClick:a,className:u()(m.a.wrapper,r,Object(o.a)({},m.a.active,c)),children:t})},g=a(90),_=r.createContext(null),w=a(17),x=Object(w.createAction)("SKETCH/SET_CURRENT_COLOR")(),O=Object(w.createAction)("SKETCH/SET_MODE")(),C=Object(w.createAction)("SKETCH/SET_BRUSH")(),y=518,k=970,S=6,N="circle",D="rgba(232, 248, 255, 0.1)",B="#cef0fe",E=1,M={height:y,width:k,backgroundColor:"#fff"},T=function(e){e.util.trimCanvas=function(e){for(var t=e.getContext("2d"),a=e.width,r=e.height,n=[],c=[],i=t.getImageData(0,0,a,r),s=function(e,t){return e-t},o=0;o<r;o++)for(var l=0;l<a;l++)0<i.data[4*(o*a+l)+3]&&(n.push(l),c.push(o));return n.sort(s),c.sort(s),a=n[r=n.length-1]-n[0],r=c[r]-c[0],i=t.getImageData(n[0],c[0],a,r),e.width=a,e.height=r,t.putImageData(i,0,0),{x:n[0],y:c[0]}},e.Point.prototype.normalize=function(e){null!==e&&void 0!==e||(e=1);var t=this.distanceFrom({x:0,y:0});return 0<t&&(this.x=this.x/t*e,this.y=this.y/t*e),this},e.BaseBrush.prototype.convertToImg=function(){var t=this.canvas.getRetinaScaling(),a=e.util.copyCanvasElement(this.canvas.upperCanvasEl),r=e.util.trimCanvas(a);a=new e.Image(a),this.canvas.add(a),a.set({left:r.x/t,top:r.y/t,scaleX:1/t,scaleY:1/t}).setCoords(),this.canvas.clearContext(this.canvas.contextTop)},e.util.getRandom=function(e,t){return t=t||0,Math.random()*((e||1)-t)+t},e.util.clamp=function(e,t,a){return"number"!==typeof a&&(a=0),e>t?t:e<a?a:e},e.CrayonBrush=e.util.createClass(e.BaseBrush,{color:"#000",opacity:.6,width:1,_baseWidth:1,_inkAmount:10,_latestStrokeLength:0,_point:null,_sep:5,_size:0,_latest:null,_drawn:!1,initialize:function(t,a){a=a||{},this.canvas=t,this.width=a.width||t.freeDrawingBrush.width,this.color=a.color||t.freeDrawingBrush.color,this.opacity=a.opacity||t.contextTop.globalAlpha,this._point=new e.Point(0,0)},onMouseDown:function(e){this.canvas.contextTop.globalAlpha=this.opacity,this._size=this.width/2+this._baseWidth,this._drawn=!1,this.set(e)},onMouseMove:function(e){this.update(e),this.draw(this.canvas.contextTop)},onMouseUp:function(){this._drawn&&this.convertToImg(),this._latest=null,this._latestStrokeLength=0,this.canvas.contextTop.globalAlpha=1},set:function(t){this._latest?this._latest.setFromPoint(this._point):this._latest=new e.Point(t.x,t.y),e.Point.prototype.setFromPoint.call(this._point,t)},update:function(e){this.set(e),this._latestStrokeLength=this._point.subtract(this._latest).distanceFrom({x:0,y:0})},draw:function(t){var a,r=this._point.subtract(this._latest),n=Math.ceil(this._size/2),c=Math.floor(r.distanceFrom({x:0,y:0})/n)+1;r.normalize(n);var i=this._sep*e.util.clamp(this._inkAmount/this._latestStrokeLength*3,1,.5),s=Math.ceil(this._size*this._sep),o=this._size/2;for(t.save(),t.fillStyle=this.color,t.beginPath(),n=0;n<s;n++)for(a=0;a<c;a++){var l=this._latest.add(r.multiply(a)),u=e.util.getRandom(o),d=e.util.getRandom(2*Math.PI),h=e.util.getRandom(i,i/2),p=e.util.getRandom(i,i/2),f=l.x+u*Math.sin(d)-h/2;l=l.y+u*Math.cos(d)-p/2,t.rect(f,l,h,p)}t.fill(),t.restore(),this._drawn=!0},_render:function(){}})},R=window.fabric,P=function(e){var t=e.getActiveObject();t&&"activeSelection"===t.type?t.forEachObject((function(t){e.remove(t)})):e.remove(t),e.discardActiveObject().requestRenderAll()},A=function(e,t){"path"!==e.type||e.shadow||e.set({stroke:t.hex}),("rect"===e.type||"circle"===e.type||e.fromSVG)&&e.set({fill:t.hex}),"path"===e.type&&e.shadow&&(e.shadow.color=t.hex)},z=a(6),I=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},L=window.fabric,F=function(e,t,a){var r,n,c,i=e.getContext().getImageData(Math.round((t+e.viewportTransform[4])*L.devicePixelRatio*e.getZoom()),Math.round((a+e.viewportTransform[5])*L.devicePixelRatio*e.getZoom()),1,1).data;return r=i[0],n=i[1],c=i[2],"#".concat(((1<<24)+(r<<16)+(n<<8)+c).toString(16).slice(1))},H=a.p+"static/media/dropper.69cb0ffd.svg",V=a(55),W=a.n(V),U=function(){var e=n.a.useState(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=n.a.useState(""),i=Object(s.a)(c,2),o=i[0],l=i[1],u=n.a.useState({top:460,left:260}),d=Object(s.a)(u,2),h=d[0],p=d[1],b=n.a.useContext(_),v=b.canvas,m=b.dispatch,g=function(e){var t=F(v,e.pointer.x,e.pointer.y);p({top:e.pointer.y-10,left:e.pointer.x+20}),l(t)},w=function(){r(!1),v.off("mouse:down",C),v.off("mouse:move",g),function(e){e.selection=!0,e.getObjects().forEach((function(e){e.set("selectable",!0),e.hoverCursor="move"}))}(v)},C=function(e){w();var t=F(v,e.pointer.x,e.pointer.y);m(x({currentColor:t}))};return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("div",{className:W.a.colorView,style:Object(z.a)({backgroundColor:o},h)}),Object(f.jsx)(j,{active:a,onClick:function(){a?w():(r(!0),function(e){e.selection=!1,e.getObjects().forEach((function(e){e.set("selectable",!1),e.hoverCursor="default"}))}(v),m(O({mode:"hand"})),v.on("mouse:down",C),v.on("mouse:move",g))},className:W.a.wrapper,children:Object(f.jsx)("img",{src:H,alt:""})})]})},K=a(31),q=a.n(K),G=function(){var e=n.a.useState(["",""]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=n.a.useContext(_),i=c.state,o=c.dispatch,l=i.currentColor;n.a.useEffect((function(){r([l,a[0]])}),[l,a]);var u=function(e){o(x({currentColor:e}))};return Object(f.jsxs)("div",{className:q.a.wrapper,children:[Object(f.jsx)("button",{className:q.a.color,style:{backgroundColor:a[0]},onClick:function(){return u(a[0])}}),Object(f.jsx)("button",{className:q.a.color,style:{backgroundColor:a[1]},onClick:function(){return u(a[1])}})]})},X=a(32),Y=a.n(X),J=function(){var e=n.a.useContext(_),t=e.canvas,a=e.dispatch,r=e.state.currentColor;return Object(f.jsxs)("div",{className:Y.a.pickerWrapper,children:[Object(f.jsx)(U,{}),Object(f.jsx)(g.a,{className:Y.a.picker,color:r,onChange:function(e){a(x({currentColor:e.hex})),function(e,t){var a=e.getActiveObject();a&&("activeSelection"===a.type?a.forEachObject((function(e){A(e,t)})):A(a,t),e.renderAll())}(t,e)},pointer:function(){return Object(f.jsx)("div",{className:Y.a.pointer,style:{backgroundColor:r}})}}),Object(f.jsx)(G,{})]})},Q=a(52),Z=[{type:"eraser",icon:a.p+"static/media/brush1.4bb3634c.svg"},{type:"marker",icon:a.p+"static/media/brush2.bd74d5cf.svg"},{type:"magic",icon:a.p+"static/media/brush3.38a28f48.svg"},{type:"pencil",icon:a.p+"static/media/brush4.4c238ed7.svg"},{type:"pen",icon:a.p+"static/media/brush5.b0040eae.svg"}],$=a.p+"static/media/highlight.a5e0d7ce.svg",ee=window.fabric,te=function(e,t,a,r){"marker"!==t&&"magic"!==t&&"pencil"!==t||(e.freeDrawingBrush=new ee.PencilBrush(e)),"eraser"===t?e.freeDrawingBrush=new ee.EraserBrush(e):e.freeDrawingBrush.color=r,"pen"===t&&(e.freeDrawingBrush=new ee.CrayonBrush(e)),"marker"===t&&(e.freeDrawingBrush.color=function(e,t){var a=e.replace("#",""),r=parseInt(a.substring(0,2),16),n=parseInt(a.substring(2,4),16),c=parseInt(a.substring(4,6),16);return"rgba(".concat(r,",").concat(n,",").concat(c,",").concat(t/100,")")}(r,20)),"magic"===t&&(e.freeDrawingBrush.color="#fff",e.freeDrawingBrush.shadow=new ee.Shadow({blur:30,affectStroke:!0,color:r})),e.freeDrawingBrush.width=a},ae=a(8),re=a.n(ae),ne=function(){var e=n.a.useState(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=n.a.useState(""),i=Object(s.a)(c,2),l=i[0],d=i[1],h=n.a.useState(10),p=Object(s.a)(h,2),v=p[0],m=p[1],g=n.a.useContext(_),w=g.state,x=g.canvas,C=g.dispatch,y=w.currentColor,k=w.mode;n.a.useEffect((function(){x.isDrawingMode="drawing"===k,"drawing"!==k&&d("")}),[k,x]),n.a.useEffect((function(){te(x,l,v,y)}),[l,x,v,y]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j,{active:"drawing"===k,onClick:function(){return r(!0)},children:Object(f.jsx)("img",{src:$,alt:""})}),Object(f.jsx)(b,{opened:a,onClose:function(){return r(!1)},children:Object(f.jsxs)("div",{className:re.a.panel,children:[Object(f.jsxs)("div",{className:re.a.brushSize,children:[Object(f.jsx)("div",{className:re.a.exampleWrapper,children:Object(f.jsx)("div",{className:re.a.example,style:{width:v,height:v,backgroundColor:y}})}),Object(f.jsx)(Q.a,{className:re.a.slider,orientation:"vertical",defaultValue:v,renderThumb:function(e,t){return Object(f.jsx)("div",Object(z.a)(Object(z.a)({},e),{},{className:re.a.thumb,children:Object(f.jsx)("div",{className:re.a.value,children:t.valueNow})}))},invert:!0,min:1,max:60,onChange:function(e){m(e)}})]}),Object(f.jsx)("div",{className:re.a.brushes,children:Z.map((function(e){return Object(f.jsx)("button",{onClick:function(){return t=e.type,C(O({mode:"drawing"})),d(t),void r(!1);var t},className:u()(re.a.brush,Object(o.a)({},re.a.active,l===e.type)),children:Object(f.jsx)("img",{src:e.icon,alt:""})},e.type)}))})]})})]})},ce=a.p+"static/media/hand.cf210679.svg",ie=function(){var e=n.a.useContext(_),t=e.state,a=e.dispatch;return Object(f.jsx)(j,{onClick:function(){a(O({mode:"hand"}))},active:"hand"===t.mode,children:Object(f.jsx)("img",{src:ce,alt:""})})},se=a.p+"static/media/picture.b59a650c.svg",oe=a.p+"static/media/circle.1be35666.svg",le=a.p+"static/media/circle-outlined.55858944.svg",ue=a.p+"static/media/rectangle.06a5077b.svg",de=a.p+"static/media/rectangle-outlined.f492c7dd.svg",he=a.p+"static/media/star.9acb5ada.svg",pe=a.p+"static/media/star-outlined.0daaff4a.svg",fe=a.p+"static/media/triangle.fbe306e2.svg",be=a.p+"static/media/triangle-outlined.a25dd2aa.svg",ve=a.p+"static/media/arrow-down.66902268.svg",me=a.p+"static/media/arrow-up.c13fee86.svg",je=a.p+"static/media/arrow-left.6c52d128.svg",ge=[{title:"circle",src:oe},{title:"circleOutlined",src:le},{title:"rectangle",src:ue},{title:"rectangleOutlined",src:de},{title:"star",src:he},{title:"starOutlined",src:pe},{title:"triangle",src:fe},{title:"triangleOutlined",src:be},{title:"arrowDown",src:ve},{title:"arrowRight",src:a.p+"static/media/arrow-right.545fd979.svg"},{title:"arrowLeft",src:je},{title:"arrowUp",src:me},{title:"thunderOutlined",src:a.p+"static/media/thunder-outlined.96c0359a.svg"},{title:"thunder",src:a.p+"static/media/thunder.ddcd8d6d.svg"},{title:"cloudOutlined",src:a.p+"static/media/cloud-outlined.c144d388.svg"},{title:"cloud",src:a.p+"static/media/cloud.eda4a7bc.svg"}],_e=window.fabric,we=function(e,t){var a=function(){var e=k/2,t=y/2;return{top:I(t-180,t+120),left:I(e-400,e+150)}}();_e.loadSVGFromURL(t,(function(t){var r=_e.util.groupSVGElements(t);r.set(Object(z.a)({},a)),e.add(r),e.setActiveObject(r),e.renderAll()}))},xe=a(56),Oe=a.n(xe),Ce=function(){var e=n.a.useState(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=n.a.useContext(_),i=c.canvas,o=c.dispatch;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j,{onClick:function(){return r(!0)},children:Object(f.jsx)("img",{src:se,alt:""})}),Object(f.jsx)(b,{opened:a,onClose:function(){return r(!1)},children:Object(f.jsx)("div",{className:Oe.a.shapeList,children:ge.map((function(e){return Object(f.jsx)("button",{onClick:function(){return t=e.src,o(O({mode:"hand"})),void we(i,t);var t},className:Oe.a.shape,children:Object(f.jsx)("img",{src:e.src,alt:""})},e.title)}))})})]})},ye=a(88),ke=a.n(ye),Se=function(){return Object(f.jsxs)("div",{className:ke.a.wrapper,children:[Object(f.jsx)(ie,{}),Object(f.jsx)(ne,{}),Object(f.jsx)(Ce,{})]})},Ne={currentColor:"#ff0000",mode:"hand",brushType:"pencil"},De=Object(w.createReducer)(Ne).handleAction(x,(function(e,t){var a=t.payload.currentColor;return Object(z.a)(Object(z.a)({},e),{},{currentColor:a})})).handleAction(C,(function(e,t){var a=t.payload.brushType;return Object(z.a)(Object(z.a)({},e),{},{brushType:a})})).handleAction(O,(function(e,t){var a=t.payload.mode;return Object(z.a)(Object(z.a)({},e),{},{mode:a})})),Be=a(89),Ee=a.n(Be),Me=window.fabric,Te=function(){var e=n.a.useReducer(De,Ne),t=Object(s.a)(e,2),a=t[0],r=t[1],c=n.a.useRef(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}()),i=n.a.useRef(null),o=n.a.useState(!1),l=Object(s.a)(o,2),u=l[0],d=l[1];return n.a.useEffect((function(){var e;c.current&&(i.current=new Me.Canvas(c.current,M),(e=i.current)&&(R.Object.prototype.cornerStyle=N,R.Object.prototype.cornerSize=S,e.selectionColor=D,e.selectionBorderColor=B,e.selectionLineWidth=E,T(R),document.addEventListener("keydown",(function(t){"Backspace"===t.key&&P(e)}))),d(!0))}),[]),Object(f.jsxs)("div",{className:Ee.a.wrapper,children:[Object(f.jsx)("canvas",{id:c.current}),u&&Object(f.jsxs)(_.Provider,{value:{canvas:i.current,dispatch:r,state:a},children:[Object(f.jsx)(J,{}),Object(f.jsx)(Se,{})]})]})};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Te,{})}),document.getElementById("root"))},31:function(e,t,a){e.exports={wrapper:"ColorHistory_wrapper__3urOk",color:"ColorHistory_color__3bXgN"}},32:function(e,t,a){e.exports={pickerWrapper:"ColorPicker_pickerWrapper__FIb-p",picker:"ColorPicker_picker__-UzkV",pointer:"ColorPicker_pointer__1Mkah"}},53:function(e,t,a){e.exports={wrapper:"Button_wrapper__1oiSI",active:"Button_active__1Qvou"}},55:function(e,t,a){e.exports={wrapper:"Eyedropper_wrapper__3cxt5",colorView:"Eyedropper_colorView__1be11"}},56:function(e,t,a){e.exports={shapeList:"Figures_shapeList__xB92s",shape:"Figures_shape__1p-K4"}},8:function(e,t,a){e.exports={panel:"Drawing_panel__2YMND",brushSize:"Drawing_brushSize__KfiI2",exampleWrapper:"Drawing_exampleWrapper__3Utvu",example:"Drawing_example__2HB4X",brushes:"Drawing_brushes__3-VLc",brush:"Drawing_brush__3ydnR",active:"Drawing_active__2CsHw",leaves:"Drawing_leaves__2eNQa",slider:"Drawing_slider__3Ygcy",thumb:"Drawing_thumb__1NL88",value:"Drawing_value__11aHN"}},88:function(e,t,a){e.exports={wrapper:"RightControlPanel_wrapper__3bH1D"}},89:function(e,t,a){e.exports={wrapper:"Sketch_wrapper__2qscz"}}},[[204,1,2]]]);
//# sourceMappingURL=main.34fdab0f.chunk.js.map